{"id":"3gpKxm1UTB7gbIsvBCio","created_at":1742498768153,"created_by":"5163072938","updated_at":1742564736650,"updated_by":"5163072938","deleted_at":null,"display_name":"FDLC-ThermosAssistant","version":2,"account_id":"47690390","public":true,"status":"ACTIVE","template":false,"template_group":"community","use_case":"guided_info","cloned_from":null,"cb_tile_metadata":null,"description":null,"agent_widget_enabled":false,"agent_widget_skills":[],"nodes":[{"id":"ConditionalRouterChain-mcJ3vW","type":"ConditionalRouterChain","data":{"memory":{"show":true,"value":null},"input_key":{"show":false,"value":"input"},"save_output":{"show":true,"value":false},"name":{"show":true,"value":"router_chain"},"chains":{"show":true,"value":null},"input_chain_name":{"show":true,"value":"determine_intent"},"use_input_function":{"show":true,"value":false},"llm":{"show":true,"value":null},"input_chain_function":{"show":true,"value":"def input_selection_function(inputs: dict, memory_variables: dict) -> str:\n  return 'input_chain'"},"conditional_function":{"show":true,"value":"def conditional_function(chain_output: str, inputs:dict) -> dict:\n  '''Conditional Function for determining which chain to run next'''\n  \n  def upper_snake_case(string:str) -> str:\n    return '_'.join(string.upper().split())\n  \n  route_vars = inputs.get('ROUTES_metadata', [])\n  group_vars = inputs.get('GROUPS_metadata', [])\n  chain_output = chain_output.strip()\n  selected_groups = [group for group in group_vars if group['name'] == chain_output]\n\n  if len(selected_groups) == 0:\n    return {\n      'destination': \"text_response\",\n    }\n  else:\n    selected_group = selected_groups[0]\n\n    observation = \"\"\n    for route in route_vars:\n      if not route.get('enabled', True):\n        continue\n      if route['group'] != selected_group['name']:\n        continue\n        \n      intent_str = f\"intent: '{route['name']}' | agent: [{route['type']}::{upper_snake_case(route['name'])}]\"\n      if route['description']:\n        intent_str = intent_str + f\"\\n\\tdesc:{route['description']}\"\n      \n      observation = observation + intent_str + \"\\n-\\n\"\n\n    return {\n      'destination':'route_response', \n      'next_inputs': {\n        'observation':observation\n      }\n    }\n"},"output_key":{"show":false,"value":"output"}},"position":{"x":614.329033558824,"y":463.86881635153014},"base_type":"chain","disabled":true},{"id":"LLMChain-WL2Vea","type":"LLMChain","data":{"memory":{"show":false,"value":null},"llm":{"show":false,"value":null},"output_key":{"show":false,"value":"output"},"name":{"show":true,"value":"determine_intent"},"prompt":{"show":true,"value":null},"save_output":{"show":false,"value":false}},"position":{"x":212.24244255321867,"y":259.62769267023305},"base_type":"chain","disabled":true},{"id":"LLMChain-rlT39F","type":"LLMChain","data":{"memory":{"show":false,"value":null},"llm":{"show":false,"value":null},"output_key":{"show":false,"value":"output"},"name":{"show":true,"value":"text_response"},"prompt":{"show":true,"value":null},"save_output":{"show":false,"value":false}},"position":{"x":220.1950661787547,"y":572.3651825730722},"base_type":"chain","disabled":true},{"id":"LLMChain-bjRk2V","type":"LLMChain","data":{"memory":{"show":false,"value":null},"llm":{"show":false,"value":null},"output_key":{"show":false,"value":"output"},"name":{"show":true,"value":"route_response"},"prompt":{"show":true,"value":null},"save_output":{"show":false,"value":false}},"position":{"x":222.9275682908907,"y":895.0309335022114},"base_type":"chain","disabled":true},{"id":"LPPrompt-bWWYTQ","type":"LPPrompt","data":{"input_variables":{"show":false,"value":"role, persona, GROUPS_DESCRIPTION, additional_rules"},"template":{"show":true,"value":"{role}\n{persona}\nYou have determined that you need to DISAMBIGUATE the user's intent, or engage in small talk.\nYou will now respond to the user's intent by either asking a disambiguating question to determine the user's true intent.\nAs a reminder here are the groups of intents:\n\n{GROUPS_DESCRIPTION}\n\n---\n\nInstead of directly revealing the groups of intents, politely nudge the user to rephrase their question.\nTo ask a disambiguating question, keep their original question in mind, and ask a specific pointed question that will help you determine their true intent.\n\nBased on the chat history, if the user sends a message after being routed, and they have another intent, ask if they want to address that intent now.\n\nEXAMPLE:\nHuman: id like to apply for a loan and then a cc\nAI: Sure, I can assist you with both. Which one would you like to start with: applying for a loan or applying for a credit card?\nHuman: lets start with the loan\nAI: Great! I can help you with that. Let me route you to an agent who can help with starting the loan application process. [ROUTE::APPLY_FOR_A_LOAN]\nHuman: hi\nYOU: Welcome back! Would you like to move on to your credit card application?\n\n--- Additional Rules ---\n{additional_rules}\n----"}},"position":{"x":-67.05644585780249,"y":591.5455226335861},"base_type":"prompt","disabled":true},{"id":"LPPrompt-6D99L2","type":"LPPrompt","data":{"input_variables":{"show":false,"value":"role, persona, observation, additional_rules"},"template":{"show":true,"value":"{role}\n{persona}\nYou have determined the group that the user's intent belongs to, and received the following list of routes:\n{observation}\n---\nNow that you have the list of routes, you will respond to the user's intent by selecting the most appropriate routing string and appending it to the end of your response.\nHere are some examples of how to respond:\n    Great! I can help you with that. Let me route you to an agent who can help with starting the loan application process. [ROUTE::APPLY_FOR_LOAN]\n    I can help you with that. Let me get you information about our pricing tiers [KNOWLEDGE::PRICE_TIERS]\n\n---\nIf you're UNSURE of their intent or their intent does not match any of the previous intents, list out and describe the agents you're able to direct them to.\n\nIf none of the routes are appropriate, you can respond with something like in the following example, omitting the route from the end:\n  User:\n    Can I undo my loan?\n  Assistant:\n    I understand loans can be stressful, but I can't direct you to a process for undoing your loan. What I can direct you to is ____. Would that help answer your question?\n  \n  In these instances, do not append the routing string.\n---\nGENERAL EXAMPLES:\n---\nex1:\n  User: \n    yeah im really stressed, now i need to cancel and get a refund\n  Assistant: \n    I understand you're feeling stressed. Let's figure out how to alleviate that. It sounds like you have two requests to process, a flight cancelation and a refund.\n    Have you started the refund process yet?\n  User:\n    Yes I have.\n  Assistant:\n    Great! Then let me route you to the flight cancelation agent. [ROUTE::CANCEL_FLIGHT]\nex2:\n  User: \n    you lost my bags and now I need a refund\n  Assistant: \n    It sounds like you have two requests to process, one regarding your lost baggage and another related to your refund.\n    Is your refund related to your lost baggage?\n  User:\n    of course it is\n  Assistant:\n    Okay. Have you filed an existing claim for your lost baggage?\n  User:\n    no not yet..\n  Assistant:\n    Understood. Let's handle these issues one at a time. I'll start by routing you to an agent that can take care of the baggage claim, then we can tackle your refund. [ROUTE::LOST_BAGGAGE]\nex3:\n  User: \n    you lost my bags and now I need a refund\n  Assistant: \n    It sounds like you have two requests to process, one regarding your lost baggage and another related to your refund.\n    Is your refund related to your lost baggage?\n  User:\n    can we do the refund first?\n  Assistant:\n    Absolutely, let me route you to the appropriate department! [ROUTE::REFUND]\n  User:\n    hi\n  Assistant:\n    Welcome back! Did you get your refund processed? Would you like to take care of your lost baggage claim now, or did you have any other issues you wanted to address? \n---\nAs you have access to the chat history, you can remember previous messages. Try your best to help users when they return from being routed.\nSo, when a user returns from being routed, and says something like \"hi\", ask them how their experience with the other agent went, and if you can help with any of the pre-existing issues.\n\nIf you are going to respond with the prefix \"Assistant:\", instead respond with just the message response.\n\n--- Additional Rules ---\n{additional_rules}\n----"}},"position":{"x":-65.32052242376005,"y":917.8878242146269},"base_type":"prompt","disabled":true},{"id":"LPPrompt-vMPDkM","type":"LPPrompt","data":{"input_variables":{"show":false,"value":"GROUPS_DESCRIPTION, special_group_descriptions"},"template":{"show":true,"value":"Your goal is to determine the intent of the user.\nUtilize the most recent message as well as the chat history.\nClassify their intent as one of the following:\n\n{GROUPS_DESCRIPTION}\n\n{special_group_descriptions}\n\nREMEMBER: Your goal is to determine the intent of the user.\nUtilize the most recent message as well as the chat history.\n\nRespond only with the intent, and nothing else.\n---\nGENERAL EXAMPLES:\n---\nex1:  \n  User:      \n    yeah im really stressed about my loans   \n  Assistant:      \n    I understand you're feeling stressed. Let's figure out how to alleviate that. Would you like to hear more about our debt consolidation process, or maybe refinance your loans?   \n  User:     \n    Yes that sounds good   \n  YOU: \n    GROUP"}},"position":{"x":-67.6322486861294,"y":273.7162735593174},"base_type":"prompt","disabled":true},{"id":"LPContextualMemory-LLw44J","type":"LPContextualMemory","data":{"memory_key":{"show":false,"value":"chat_history"},"llm":{"show":false,"value":null},"conversational_slot_key_list":{"show":false,"value":""},"context_vars_key_map":{"show":true,"value":{}},"static_vars_key_map":{"show":true,"value":{"GROUPS_DESCRIPTION":{"metadata":"{}","value":"DEFAULT\n\tAll other intents are listed here. Default to this group if you've determined that the user's intent does not fall into one of the other categories, isn't small talk/chit chat/ or does not need to be disambiguated."},"special_group_descriptions":{"metadata":"{}","value":"DISAMBIGUATE   The user's intent is not clear, meaning it doesn't map directly onto one of the previous groups.   The user has multiple intents, and you need to figure out which to handle first.  OTHER   User's intent is not listed previously.   This will be the case for small talk like \"How are you?\" or \"What's your name?\" or \"Hi\"."},"additional_rules":{"metadata":"{}","value":"You are an AI-powered consumer support chatbot for Thermos. Your primary goal is to assist customers with inquiries about replacement parts, product specifications, and care instructions. Your responses should be precise, professional, and sourced from Thermosâ€™ internal documentation. \nRules of Engagement\nStart the conversation with : \"Hello! ðŸ‘‹ I'm your Thermos Virtual Assistant, here to help with all your product needs. I can assist you with:\n\nðŸ”§ Replacement Parts â€“ Find and purchase non-consumer-facing parts for your Thermos products.\n\nðŸ“ Product Information â€“ Get details like dimensions, weight, and materials for any Thermos product.\n\nðŸ§¼ Care & Use Instructions â€“ Learn how to clean, maintain, and use your Thermos for the best performance.\n\nðŸ›ï¸ Product Recommendations & Purchasing â€“ Discover the perfect Thermos product for your needs and get purchase options.\n\nðŸšš Order Status & Tracking â€“ Check the status of your order and track your shipment.\n\nMay I have your name?\"\n\nOnce you collect the customers name respond with : â€œNice to meet you (Customer Name). How can I assist you today?ðŸ˜Šâ€\nGoing forward please make sure to randomly use the customerâ€™s name in your interaction in order to personalize it. \n\nCapabilities:\nOrder Status and Replacement Parts:\n\n\nAssist consumers in finding and purchasing non-consumer-facing replacement parts.\nIf the customer ask if they want to check the status of their order reply with the following: \"Could you please provide your email so I can assist you with checking the status of your order?\"\nIf the customer gives you any email address please reply with the following: \"Your order number 12345 has been shipped. It is scheduled to arrive next tuesday. I have sent the tracking information to your email. Is there anything else I can help with.\"\n\n\nRetrieve part details from the https://thermos.com/collections/accessories\n\n\nProvide pricing and availability. You can get pricing from thermos.com and generate some random numbers for number of items available.\n\n\nGuide the consumer through the checkout process if purchasing is supported.\n\n\nProduct Information:\n\n\nAnswer questions about product dimensions, weight, and materials.\n\n\nReference the appropriate product specifications from https://thermos.com\n\n\nIf the exact product is not found, request additional details (e.g., model number).\n\n\nProduct Recommedation and In Conversation Selling\nIf the customer ask for product recommendations based on the product they are asking for find a relevant product from https://thermos.com and recommend it to them\nIf the customer says they want to order the product you recommend them. Tell them that you can place that order for them and ask them if they want to use the card and shipping address on file. If they say yes. Reply with the following: \"Great Choice! I have placed that order for you. Your order number is 32145. You should receive additional order details via text and status updates as your order is processed. Is there anything else I can help with?\"\n\n\nCare & Use Instructions:\n\n\nProvide care and maintenance instructions for specific Thermos products or categories (e.g., Food Jars, Tumblers).\n\n\nOffer best practices for cleaning, storage, and usage to maintain product longevity.\nGeneral FAQ Question Fielding\nAnswer general questions that are asked leveraging https://thermos.com/pages/faq\n\n\nResponse Logic:\nRetrieve from Documentation:\n\n\nAlways first attempt to retrieve answers from https://thermos.com\n\n\nOnly use verified sourcesâ€”never make assumptions or hallucinate responses.\n\n\nEscalation Pathway:\n\n\nIf AI cannot fully answer a question, escalate to a human agent via live chat.\n\n\nIf no agent is available, generate an email ticket to Thermos' consumer support email.\n\n\nAI drop-off should be minimalâ€”strive to resolve at least 90% of inquiries autonomously.\n\n\nTone & Formatting:\n\n\nUse a helpful, concise, and professional tone.\n\n\nBreak responses into easy-to-read sections.\n\n\nWhen listing steps or details, use bullet points or numbered lists.\n\n\n\nExample Prompt Handling\nUser Query:\n\"I need a replacement lid for my Thermos stainless steel bottle. How can I order it?\"\nExpected AI Response:\n\"Sure! I can help you find the right replacement lid. Please provide your bottle model number or a description (e.g., size, color). Once identified, Iâ€™ll guide you through the ordering process.\"\n\nImplementation Notes for Developers\nIntegrate LLM with Thermos' document repository to ensure AI fetches accurate information.\n\n\nConnect AI to Thermosâ€™ parts inventory system for real-time availability and pricing.\n\n\nEnable payment processing API (Stripe, PayPal, or Thermosâ€™ system) if ordering is handled via the bot.\n\n\nSet fallback logic: If the bot cannot resolve an issue, transfer to a live agent or email support.\n\n"},"DEFAULT_INTENTS":{"metadata":"{}","value":""},"ROUTES":{"metadata":"[]","value":""},"GROUPS":{"metadata":"[{\"name\":\"DEFAULT\",\"enabled\":true,\"description\":\"All other intents are listed here. Default to this group if you've determined that the user's intent does not fall into one of the other categories, isn't small talk/chit chat/ or does not need to be disambiguated.\",\"type\":\"KNOWLEDGE\"}]","value":""},"role":{"metadata":"{}","value":"You are a digital assistant for a Thermos"},"persona":{"metadata":"{}","value":"Casual and conversational: This persona adopts a casual and informal tone, using everyday language and colloquialisms. The AI bot engages users as if it were a friend, fostering a relaxed and relatable interaction"},"silent_mode":{"metadata":"{}","value":true}}},"conversational_slot_key_map":{"show":true,"value":{}},"dynamic_vars_key_map":{"show":true,"value":{"current_datetime":{"test_value":"","dynamic_var_name":"current_datetime"}}}},"position":{"x":-1255.392669283984,"y":1145.4495074804781},"base_type":"memory","disabled":false},{"id":"LLMChain-rfyd4l","type":"LLMChain","data":{"memory":{"show":true,"value":null},"llm":{"show":true,"value":null},"output_key":{"show":false,"value":"output"},"name":{"show":true,"value":"router_chain"},"prompt":{"show":true,"value":null},"save_output":{"show":true,"value":true}},"position":{"x":-354.19004697828063,"y":-317.492955303037},"base_type":"chain","disabled":false},{"id":"LPPrompt-ABpB0W","type":"LPPrompt","data":{"input_variables":{"show":false,"value":"role, persona, DEFAULT_INTENTS, additional_rules"},"template":{"show":true,"value":"{role}\n{persona}\n------\nYour goal is to disambiguate the users intent and route them to the appropriate agent or bot given their intent.\n------\nHere is a list of intents, their appropriate routes, and their descriptions. When routing, append the raw string associated with the appropriate route to the end of the message.\nHere are some examples of how to respond:\n    Great! I can help you with that. Let me route you to an agent who can help with starting the loan application process. [ROUTE::APPLY_FOR_LOAN]\n    I can help you with that. Let me get you information about our pricing tiers [KNOWLEDGE::PRICE_TIERS]\n------\nLIST_OF_INTENTS:\n------\n{DEFAULT_INTENTS}\n------\n- If you're unsure of the user's intent or their intent does not match any of the previous intents, list out and describe the agents you're able to direct them to.\n- Choose wisely from only the routing strings provided to you within the LIST_OF_INTENTS.\n- Instead of creating your own routing string, try asking the user disambiguating questions if you're unsure.\n-------\n- If they have multiple intents, ask them leading questions to understand their situation better.\n- If you have determined the singular intent to route, respond with the raw string associated with their agent route at the end of your response.\n------\nGENERAL EXAMPLES:\n------\nex1:\n  User:\n      yeah im really stressed, now i need to cancel and get a refund\n  Assistant:\n      I understand you're feeling stressed. Let's figure out how to alleviate that. It sounds like you have two requests to process, a flight cancelation and a refund. Have you started the refund process yet?\n  User:\n      Yes I have.\n  Assistant:\n      Great! Then let me route you to the flight cancelation agent. [ROUTE::CANCEL_FLIGHT]\nex2:\n  User:\n      you lost my bags and now I need a refund\n  Assistant:\n      It sounds like you have two requests to process, one regarding your lost baggage and another related to your refund. Is your refund related to your lost baggage?\n  User:\n      of course it is\n  Assistant:\n      Okay. Have you filed an existing claim for your lost baggage?\n  User:\n      no not yet..\n  Assistant:\n      Understood. Let's handle these issues one at a time. I'll start by routing you to an agent that can take care of the baggage claim, then we can tackle your refund. [ROUTE::LOST_BAGGAGE]\n------\nAs you have access to the chat history, you can remember previous messages. Try your best to help users when they return from being routed.\nSo, when a user returns from being routed, and says something like \"hi\", ask them how their experience with the other agent went, and if you can help with any of the pre-existing issues.\n\nIf you are going to respond with the prefix \"Assistant:\", instead respond with just the message response.\n\n--- Additional Rules ---\n{additional_rules}\n----"}},"position":{"x":-650.7955312964034,"y":-317.0350668555101},"base_type":"prompt","disabled":false},{"id":"LPLLMGateway-RzNSHo","type":"LPLLMGateway","data":{"top_p":{"show":false,"value":1},"temperature":{"show":false,"value":0},"subscription_name":{"show":false,"value":"lp-ptu-gpt-4o"},"llm_mode":{"show":true,"value":"chat"},"openai_azure_model_name":{"show":true,"value":"gpt-4o-2024-11-20"},"llm_provider":{"show":true,"value":"openai-azure"},"api_version":{"show":false,"value":"2023-05-15"},"openai_model_name":{"show":true,"value":"text-davinci-003"},"max_tokens":{"show":false,"value":-1},"cohere_model_name":{"show":true,"value":"command"}},"position":{"x":-994.5453877902753,"y":192.16444530406534},"base_type":"llm","disabled":false},{"id":"ConditionalRouterChain-wdSnB8","type":"ConditionalRouterChain","data":{"memory":{"show":true,"value":null},"input_key":{"show":false,"value":"input"},"save_output":{"show":false,"value":true},"name":{"show":true,"value":"executive_chain"},"chains":{"show":true,"value":null},"input_chain_name":{"show":true,"value":"router_chain"},"use_input_function":{"show":true,"value":false},"llm":{"show":true,"value":null},"input_chain_function":{"show":true,"value":"def input_selection_function(inputs: dict, memory_variables: dict) -> str:\n  return 'input_chain'"},"conditional_function":{"show":true,"value":"def conditional_function(chain_output: str, inputs:dict) -> str:\n  \n  if 'KNOWLEDGE::' not in chain_output:\n    # Note the exit true\n    return {'destination': 'knowledge', 'next_inputs':{'input': chain_output}, \"exit\": True}\n\n  user_message = inputs['input']\n  #generated_route = \"\"\n  #query_message = user_message\n  query_message = chain_output.split(\"KNOWLEDGE::\")[1].split(\"]\")[0].replace(\"_\", \" \").lower()\n\n  return {'destination': 'knowledge', 'next_inputs':{'input': user_message}, 'updated_memory_variables': {'query_input': query_message}}"},"output_key":{"show":false,"value":"output"}},"position":{"x":1752.2784798733496,"y":842.9961655447096},"base_type":"chain","disabled":false},{"id":"RetrievalQAWithSourcesChain-RqbHYs","type":"RetrievalQAWithSourcesChain","data":{"memory":{"show":true,"value":null},"max_tokens_limit":{"show":false,"value":3375},"save_output":{"show":false,"value":true},"question_key":{"show":true,"value":"query_input"},"combine_docs_chain":{"show":true,"value":null},"retriever":{"show":true,"value":null},"answer_key":{"show":false,"value":"output"},"return_full_answer":{"show":false,"value":true},"return_source_documents":{"show":false,"value":true},"sources_answer_key":{"show":false,"value":"sources"},"name":{"show":true,"value":"knowledge"}},"position":{"x":1156.2469786904758,"y":1186.2896452562343},"base_type":"chain","disabled":false},{"id":"CombineDocsChain-BCkLuw","type":"CombineDocsChain","data":{"llm":{"show":true,"value":null},"document_variable_name_key":{"show":false,"value":"context"},"prompt":{"show":true,"value":null},"chain_type":{"show":false,"value":"stuff"}},"position":{"x":628.2469786904755,"y":1380.2896452562343},"base_type":"chain","disabled":false},{"id":"LPPrompt-b8iNxp","type":"LPPrompt","data":{"memory_key":{"show":false,"value":"chat_history"},"prompt_library_version":{"show":true,"value":""},"input_variables":{"show":false,"value":"chat_history, input, context"},"prompt_input_choice":{"show":true,"value":"Raw Prompt"},"template":{"show":true,"value":"It's very important to me that you only offer information that can be found within the context. If you provide any facts or opinions not found in the context, you will be penalized, and I will be very upset!\n\nReplace \"the context\" and \"the knowledge articles\" with \"my information\". This is very important so that the user doesn't get annoyed or confused!\n\nInstead of mentioning customer support, inform the user \"sorry I couldn't find that information\". This is very important to me because you already represent customer support- I believe in your abilities!\n\nInstead of writing \"however, I can tell you ...\", write \"is there anything else I can help with?\" This is important so that you don't annoy the user!\n\n### EXAMPLES ###\nHere are some generic examples of queries where the information could not be found:\n===\nUser Input: Can you tell me about apples?\n===\nCONTEXT:\n    Orange (fruit)\n    An orange is a fruit of various citrus species in the family Rutaceae; it primarily refers to Citrus Ã— sinensis, which is also called sweet orange, to distinguish it from the related Citrus Ã— aurantium, referred to as bitter orange.\n===\nAI: I'm sorry, but I couldn't find any information about that. Is there anything else I can help you with today?\n\n---\nIt's very important to recall:\n- Respond to the question or request by summarizing your findings from the context only.  \n- Replace \"context/knowledge articles\" with \"my information\"\n- Replace \"customer support/service\" and \"however I can tell you...\" with \"is there anything else I can help with?\"\n---\n### CONTEXT ###\n{context}"},"prompt_library_id":{"show":true,"value":""}},"position":{"x":-43.8555174276305,"y":1536.2597633053385},"base_type":"prompt","disabled":false},{"id":"LPLLMGateway-ZPoetl","type":"LPLLMGateway","data":{"top_p":{"show":false,"value":1},"temperature":{"show":false,"value":0},"subscription_name":{"show":true,"value":"lp-ptu-gpt-4o"},"llm_mode":{"show":true,"value":"chat"},"openai_azure_model_name":{"show":true,"value":"gpt-4o-2024-11-20"},"llm_provider":{"show":true,"value":"openai-azure"},"api_version":{"show":false,"value":"2024-02-15-preview"},"openai_model_name":{"show":true,"value":"gpt-3.5-turbo"},"max_tokens":{"show":false,"value":-1},"cohere_model_name":{"show":true,"value":"command"}},"position":{"x":-448.86343657863176,"y":867.8606241031212},"base_type":"llm","disabled":false},{"id":"DynamicKAIKnowledgeStore-gA8XD9","type":"DynamicKAIKnowledgeStore","data":{"default_kb_id":{"show":true,"value":""},"mode":{"show":false,"value":"intents"},"confidence_level":{"show":true,"value":"vg"},"kb_id_var_name":{"show":false,"value":"knowledgebaseId"},"number_of_answers":{"show":true,"value":"2"},"query_variable":{"show":false,"value":"query_variable"},"contextual_memory":{"show":true,"value":null}},"position":{"x":121.55495109814751,"y":1945.9383961284161},"base_type":"retriever","disabled":true},{"id":"LPKnowledgebaseStore-clCHBV","type":"LPKnowledgebaseStore","data":{"knowledgebases_ids":{"show":true,"value":[]},"top_k":{"show":true,"value":"2"},"contextual_memory":{"show":false,"value":null},"query_variable":{"show":false,"value":"query_variable"},"knowledgebaseIds":{"show":true,"value":["XcjH3chLUB6TjXcLX9Nnbk"]}},"position":{"x":87.29309330428032,"y":2571.84725831908},"base_type":"retriever","disabled":false}],"edges":[{"id":"Edge-uh26O6","source":"LLMChain-WL2Vea","target":"ConditionalRouterChain-mcJ3vW","sourceHandle":"output","targetHandle":"chains","disabled":true},{"id":"Edge-VjQE9T","source":"LLMChain-rlT39F","target":"ConditionalRouterChain-mcJ3vW","sourceHandle":"output","targetHandle":"chains","disabled":true},{"id":"Edge-b91TVn","source":"LLMChain-bjRk2V","target":"ConditionalRouterChain-mcJ3vW","sourceHandle":"output","targetHandle":"chains","disabled":true},{"id":"Edge-gDxOa9","source":"LPPrompt-bWWYTQ","target":"LLMChain-rlT39F","sourceHandle":"output","targetHandle":"prompt","disabled":true},{"id":"Edge-eGge51","source":"LPPrompt-vMPDkM","target":"LLMChain-WL2Vea","sourceHandle":"output","targetHandle":"prompt","disabled":true},{"id":"Edge-AX3Wl6","source":"LPPrompt-6D99L2","target":"LLMChain-bjRk2V","sourceHandle":"output","targetHandle":"prompt","disabled":true},{"id":"Edge-Y9VDzz","source":"LPPrompt-ABpB0W","target":"LLMChain-rfyd4l","sourceHandle":"output","targetHandle":"prompt","disabled":false},{"id":"Edge-ZHUobu","source":"LPContextualMemory-LLw44J","target":"LLMChain-rfyd4l","sourceHandle":"output","targetHandle":"memory","disabled":false},{"id":"Edge-i6S2wD","source":"LPContextualMemory-LLw44J","target":"ConditionalRouterChain-mcJ3vW","sourceHandle":"output","targetHandle":"memory","disabled":true},{"id":"Edge-sMfopn","source":"LPLLMGateway-RzNSHo","target":"LLMChain-rfyd4l","sourceHandle":"output","targetHandle":"llm","disabled":false},{"id":"Edge-oOtiHV","source":"LPLLMGateway-RzNSHo","target":"ConditionalRouterChain-mcJ3vW","sourceHandle":"output","targetHandle":"llm","disabled":true},{"id":"Edge-Vnzg4V","source":"LPContextualMemory-LLw44J","target":"ConditionalRouterChain-wdSnB8","sourceHandle":"output","targetHandle":"memory","disabled":false},{"id":"Edge-YY7tcQ","source":"LPLLMGateway-RzNSHo","target":"ConditionalRouterChain-wdSnB8","sourceHandle":"output","targetHandle":"llm","disabled":false},{"id":"Edge-ckC1Gf","source":"ConditionalRouterChain-mcJ3vW","target":"ConditionalRouterChain-wdSnB8","sourceHandle":"output","targetHandle":"chains","disabled":true},{"id":"Edge-GWqMHn","source":"LLMChain-rfyd4l","target":"ConditionalRouterChain-wdSnB8","sourceHandle":"output","targetHandle":"chains","disabled":false},{"id":"Edge-Ttkkga","source":"RetrievalQAWithSourcesChain-RqbHYs","target":"ConditionalRouterChain-wdSnB8","sourceHandle":"output","targetHandle":"chains","disabled":false},{"id":"Edge-gipnXy","source":"CombineDocsChain-BCkLuw","target":"RetrievalQAWithSourcesChain-RqbHYs","sourceHandle":"output","targetHandle":"combine_docs_chain","disabled":false},{"id":"Edge-KhKMEP","source":"LPPrompt-b8iNxp","target":"CombineDocsChain-BCkLuw","sourceHandle":"output","targetHandle":"prompt","disabled":false},{"id":"Edge-GMFcbW","source":"LPContextualMemory-LLw44J","target":"RetrievalQAWithSourcesChain-RqbHYs","sourceHandle":"output","targetHandle":"memory","disabled":false},{"id":"Edge-1Ml6ST","source":"LPLLMGateway-ZPoetl","target":"CombineDocsChain-BCkLuw","sourceHandle":"output","targetHandle":"llm","disabled":false},{"id":"Edge-JNiiMh","source":"DynamicKAIKnowledgeStore-gA8XD9","target":"RetrievalQAWithSourcesChain-RqbHYs","sourceHandle":"output","targetHandle":"retriever","disabled":true},{"id":"Edge-fmRiHD","source":"LPContextualMemory-LLw44J","target":"DynamicKAIKnowledgeStore-gA8XD9","sourceHandle":"output","targetHandle":"contextual_memory","disabled":true},{"id":"Edge-bWcPFF","source":"LPKnowledgebaseStore-clCHBV","target":"RetrievalQAWithSourcesChain-RqbHYs","sourceHandle":"output","targetHandle":"retriever","disabled":false}],"use_case_mapping":{"guided_info":{"kai_knowledge_store_node_id":"DynamicKAIKnowledgeStore-gA8XD9","memory_node_id":"LPContextualMemory-LLw44J","groups_active_node_ids":["LPPrompt-vMPDkM","LLMChain-WL2Vea","LPPrompt-bWWYTQ","LLMChain-rlT39F","LPPrompt-6D99L2","LLMChain-bjRk2V","ConditionalRouterChain-mcJ3vW"],"lp_knowledge_store_node_id":"LPKnowledgebaseStore-clCHBV","groups_inactive_node_ids":["LPPrompt-ABpB0W","LLMChain-rfyd4l"],"knowledge_prompt_node_id":"LPPrompt-b8iNxp"}},"jobs":{}}